# Media Management Configuration Review
# Project: Christian Fundraising Foundation
# File: image-organization-check.txt
# Last Updated: 2025-18-04

=============================================
1. CURRENT SETTINGS ANALYSIS
=============================================

1.1 Your Configuration (base.py)
--------------------------------
STATIC_URL = "static/"
STATICFILES_DIRS = [
    BASE_DIR / "static",          # project_root/static/
    BASE_DIR / "blog/static",     # project_root/blog/static/
]
STATIC_ROOT = BASE_DIR / "staticfiles"
MEDIA_URL = "/media/"
MEDIA_ROOT = BASE_DIR / "static" / "media"

1.2 Compatibility Assessment
---------------------------
[VALID] Structure works for static-only media
[WARNING] Unconventional media location
[NOTE] Requires specific deployment handling

=============================================
2. IMPLEMENTATION GUIDE
=============================================

2.1 Required Directory Structure
--------------------------------
project_root/
├── static/
│   ├── media/          # All "media" files here
│   ├── css/
│   └── js/
├── blog/
│   └── static/
└── staticfiles/       # Created by collectstatic

2.2 Necessary Adjustments
-------------------------
1. Move all existing media files:
   mv project_root/media/* project_root/static/media/

2. Update templates (if needed):
   {% static 'media/filename.jpg' %}  # No changes required

3. Add to .gitignore:
   /staticfiles/
   /static/media/uploads/  # If allowing uploads later

=============================================
3. DEPLOYMENT CONSIDERATIONS
=============================================

3.1 SiteGround Specifics
------------------------
- STATIC_ROOT must match SiteGround's static files path
- MEDIA_ROOT won't be used (since no uploads)
- Ensure this in wsgi.py:
  os.environ['DJANGO_SETTINGS_MODULE'] = 'christianfoundation.settings.production'

3.2 Nginx Configuration (if used)
---------------------------------
location /static/ {
    alias /home/user/staticfiles/;
    expires 30d;
}
# No media location needed

=============================================
4. TROUBLESHOOTING
=============================================

4.1 Potential Issues
--------------------
[WARNING] collectstatic may duplicate files
   Solution: Add --clear flag:
   python manage.py collectstatic --clear --noinput

[WARNING] Template references breaking
   Verify: All templates use {% static %} tag
   Test: python manage.py findstatic media/example.jpg

=============================================
5. TIME ESTIMATES
=============================================

| Task                     | Duration |
|--------------------------|----------|
| Directory Reorganization | 15 min   |
| Configuration Testing    | 20 min   |
| Deployment Verification  | 15 min   |
| Total                    | 50 min   |

=============================================
6. RECOMMENDED SETTINGS
=============================================

6.1 For Static-Only Media
-------------------------
# base.py
STATIC_URL = "static/"
STATICFILES_DIRS = [
    BASE_DIR / "static",      # Contains media/ subfolder
    BASE_DIR / "blog/static"
]
STATIC_ROOT = BASE_DIR / "staticfiles"

# Disable media handling if truly unused
MEDIA_URL = "/unused-media/"  # Prevent conflicts
MEDIA_ROOT = BASE_DIR / "unused_media"  # Empty directory

6.2 Rationale
-------------
- Clearly separates static assets
- Prevents future conflicts if uploads are added
- Maintains standard Django patterns
- Easier to debug