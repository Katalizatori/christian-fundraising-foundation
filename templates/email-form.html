{% load static %}

<div class="form-section">
    <div class="email-container">
        <div class="email-header">
            <p>Every week, you will receive an email with biblical inspiration, research-backed insights, or fundraising ideas you can apply immediately. Join a growing community of over 1,000 Christian leaders and fundraisers. <strong><em>Sign up</em> today.</strong></p>
        </div>
        <form method="post" action="{% url 'subscribe' %}" class="email-form">
            <!-- CSRF Token -->
            {% csrf_token %}

            <!-- First Name and Last Name Fields -->
            <div class="input-fields form-grid">
                <div class="form-group">
                    <label for="id_first_name" class="form-label">
                        First Name <span class="required">*</span>
                    </label>
                    <input type="text" name="first_name" id="id_first_name" class="form-input" placeholder="First Name" value="{{ subscribe_form.first_name.value|default:'' }}" required>
                    {% if subscribe_form.first_name.errors %}
                        <div class="error-message">
                            {{ subscribe_form.first_name.errors }}
                        </div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="id_last_name" class="form-label">
                        Last Name <span class="required">*</span>
                    </label>
                    <input type="text" name="last_name" id="id_last_name" class="form-input" placeholder="Last Name" value="{{ subscribe_form.last_name.value|default:'' }}" required>
                    {% if subscribe_form.last_name.errors %}
                        <div class="error-message">
                            {{ subscribe_form.last_name.errors }}
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Email Field -->
            <div class="form-group">
                <label for="id_email" class="form-label">
                    Email Address <span class="required">*</span>
                </label>
                <input type="email" name="email" id="id_email" class="form-input" placeholder="name@page.com" value="{{ subscribe_form.email.value|default:'' }}" required>
                {% if subscribe_form.email.errors %}
                    <div class="error-message">
                        {{ subscribe_form.email.errors }}
                    </div>
                {% endif %}
            </div>

            <!-- Privacy Policy -->
            <div class="form-checkbox">
                <span class="mr-2">
                    <input type="checkbox" name="agree_to_policy" id="id_agree_to_policy" class="form-input" required>
                </span>
                <label for="checkbox-policy">You agree to our friendly <a href="#" class="underline">privacy policy.</a></label>
                {% if subscribe_form.agree_to_policy.errors %}
                    <div class="error-message">
                        {{ subscribe_form.agree_to_policy.errors }}
                    </div>
                {% endif %}
            </div>

            <!-- Submit Button -->
            <div class="button-container">
                <button type="submit" class="form-button">Join Today</button>
            </div>
        </form>
    </div>
</div>